language: d

# For available compilers see: https://semitwist.com/travis-d-compilers
d:
  - dmd
  - dmd-beta
  - dmd-2.090.1
  - dmd-2.089.1
  - dmd-2.088.1
  - dmd-2.087.1
  - dmd-2.086.1
  - dmd-2.085.1
  - dmd-2.084.1
  - dmd-2.083.1
  - dmd-2.082.1
  - dmd-2.081.2
  - dmd-2.080.1
  - dmd-2.079.1
  - dmd-2.078.3
  - dmd-2.077.1
  - dmd-2.076.1
  - dmd-2.075.1
  - dmd-2.074.1
  - dmd-2.073.2
  - dmd-2.072.2
  - dmd-2.071.2
  - dmd-2.070.2
  - dmd-2.069.2
  - ldc
  - ldc-beta
  - gdc

sudo: false

os:
  - linux
  - osx

script:
  - dub build --build=release --config=library
  - dub test --build=unittest --config=unittest
  - dub run --build=release --config=quickstartExample
  - dub run --build=release --config=qualifiersExample
  - dub run --build=release --config=arrayCompletionExample
  - dub run --build=release --config=annotationsExample
  - dub run --build=release --config=applicationContextExample
  - dub run --build=release --config=registerOnResolveExample
  - dub run --build=release --config=constructorInjectionExample
  - dub run --build=release --config=valueInjectionExample
  - dub run --build=release --config=postConstructorPreDestructorExample

matrix:
  allow_failures:
    - d: gdc
      os: osx
    - d: ldc-1.4.0
      os: osx
    - d: ldc-1.3.0
      os: osx
    - d: ldc-1.2.0
      os: osx
